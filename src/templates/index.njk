{% extends "_layout.njk" %}
{% set title = 'AiPornDirect — Independent AI porn site directory' %}
{% set description = 'Browse the AI porn generators, deepfake apps, chatbots, and marketplaces curated by the AiPornDirect team.' %}
{% block content %}
<section class="hero hero--directory">
  <div class="container">
    <div class="hero__surface">
      <div class="hero__content">
        <p class="hero__eyebrow">Curated by AiPornDirect</p>
        <h1>The AI porn sites people actually use</h1>
        <p class="hero__lead">
          We hand-collect AI porn generators, chatbots, deepfake studios, and more, then layer on filters, metadata, and safety notes so you can compare options quickly.
        </p>
        <ul class="hero__stats">
          <li>
            <span class="hero__stat-value">{{ sites | length }}</span>
            <span class="hero__stat-label">Sites indexed</span>
          </li>
          <li>
            <span class="hero__stat-value">{{ categories | length }}</span>
            <span class="hero__stat-label">Categories</span>
          </li>
          <li>
            <span class="hero__stat-value">{{ lastUpdated or '—' }}</span>
            <span class="hero__stat-label">Last verified</span>
          </li>
        </ul>
        <div class="hero__controls">
          <div class="search-bar">
            <label for="search" class="visually-hidden">Search AI porn sites</label>
            <input id="search" type="search" placeholder="Search by name, tag, or category" autocomplete="off">
          </div>
          <div class="filter-group" id="category-filter" data-categories='{{ categories | dump }}'>
            <button class="filter-chip is-active" data-category="all">All</button>
            {% for category in categories %}
            <button class="filter-chip" data-category="{{ category.id }}">{{ category.name }}</button>
            {% endfor %}
          </div>
        </div>
      </div>
      <aside class="hero__aside" aria-label="What\'s new">
        <span class="hero__badge">Directory notes</span>
        <ul class="hero__checklist">
          <li>Ranks reflect the manually documented order in our research.</li>
          <li>Highlights summarise the selling points we verified first-hand.</li>
          <li>Tags and categories help you filter between generators, chatbots, and deepfakes.</li>
        </ul>
        <p class="hero__aside-note">Can\'t find something? <a href="mailto:submit@aiporndirect.com">Send us the missing site</a>.</p>
      </aside>
    </div>
  </div>
</section>
<section class="section section--directory" aria-live="polite">
  <div class="container">
    <div class="section-heading">
      <div>
        <h2 class="section-title">All AI porn sites</h2>
        <p class="section-subtitle">Filter our manually curated list with richer metadata and quick links.</p>
      </div>
      <a class="section-link" href="mailto:submit@aiporndirect.com">Request an update →</a>
    </div>
    {% if sites | length %}
    <div class="site-grid" id="site-grid">
      {% for site in sites %}
      <article class="site-card" data-slug="{{ site.slug }}" data-categories='{{ site.categories | dump }}' data-tags='{{ site.tags | dump }}' data-pricing="{{ site.pricing }}">
        <header class="site-card__header">
          <div class="site-card__meta">
            <span class="site-card__rank">#{{ site.rank or loop.index }}</span>
            <h3><a href="/site/{{ site.slug }}/">{{ site.name }}</a></h3>
          </div>
          <div class="site-card__rating" aria-label="Rating">
            {% if site.rating %}
            <span class="site-card__score">{{ site.rating }}<small>/100</small></span>
            {% else %}
            <span class="site-card__score is-na">N/A</span>
            {% endif %}
            {% if site.votes %}
            <span class="site-card__votes">{{ site.votes }} votes</span>
            {% endif %}
          </div>
        </header>
        <p class="site-card__summary">{{ site.summary }}</p>
        {% if site.highlights %}
        <ul class="site-card__highlights">
          {% for highlight in site.highlights %}
          <li>{{ highlight }}</li>
          {% endfor %}
        </ul>
        {% endif %}
        <div class="site-card__footer">
          <ul class="pill-list">
            <li class="pill">{{ site.pricing | capitalize }}</li>
            {% for category in site.categories %}
            <li class="pill pill--muted">{{ category | title }}</li>
            {% endfor %}
          </ul>
          <div class="site-card__actions">
            <a class="btn btn-secondary" href="/site/{{ site.slug }}/">Profile</a>
            <a class="btn btn-primary" href="{{ site.website }}" rel="noopener" target="_blank">Visit →</a>
          </div>
        </div>
      </article>
      {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
      <h3>No listings yet</h3>
      <p>Populate <code>src/data/sites.json</code> with your curated AI porn sites and rebuild the project to see them here.</p>
    </div>
    {% endif %}
  </div>
</section>
{% endblock %}
